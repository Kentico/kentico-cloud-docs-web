!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("KontentSmartLink",[],t):"object"==typeof exports?exports.KontentSmartLink=t():e.KontentSmartLink=t()}(window,function(){return(r={},i.m=n={"./src/index.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/plugin.ts");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var i=n("./src/utils/link.ts");Object.defineProperty(t,"buildKontentLink",{enumerable:!0,get:function(){return i.buildKontentLink}}),Object.defineProperty(t,"buildElementLink",{enumerable:!0,get:function(){return i.buildElementLink}}),Object.defineProperty(t,"buildComponentElementLink",{enumerable:!0,get:function(){return i.buildComponentElementLink}})},"./src/lib/EventManager.ts":function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;function o(){var o=this;this.listeners=new Map,this.on=function(e,t){var n,r,i=null!==(r=null===(n=o.listeners.get(e))||void 0===n?void 0:n.add(t))&&void 0!==r?r:new Set([t]);o.listeners.set(e,i)},this.off=function(e,t){var n;null===(n=o.listeners.get(e))||void 0===n||n.delete(t)},this.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=o.listeners.get(e);r&&0<r.size&&r.forEach(function(e){e.apply(void 0,i(t))})},this.removeAllListeners=function(){o.listeners=new Map}}t.EventManager=o},"./src/lib/HighlightRenderer.ts":function(e,n,t){"use strict";var N=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},j=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(n,"__esModule",{value:!0}),n.HighlightRenderer=n.HighlighterElementTag=n.HighlighterContainerTag=void 0;var A=t("./src/utils/node.ts");n.HighlighterContainerTag="KONTENT-SMART-LINK-OVERLAY",n.HighlighterElementTag="KONTENT-SMART-LINK-ELEMENT";var r=(i.createDefaultContainer=function(){var e=document.createElement(n.HighlighterContainerTag);return e.classList.add("kontent-smart-link-default-overlay"),window.document.body.appendChild(e),e},i);function i(){var _=this;this.destroy=function(){_.clear(),_.defaultContainer.remove()},this.selectNode=function(e){var t=_.highlightByNode.get(e);t&&(e.classList.add("kontent-smart-link__node--selected"),t.classList.add("selected"))},this.deselectNode=function(e){var t=_.highlightByNode.get(e);t&&(e.classList.remove("kontent-smart-link__node--selected"),t.classList.remove("selected"))},this.render=function(e){var t,n,r,i,o,a,l;if(0===e.size)_.clear();else{var s=new Map;try{for(var d=N(e),u=d.next();!u.done;u=d.next()){var c=(I=u.value).getBoundingClientRect();if(!(0===c.height||0===c.width)){var m=j(A.getParentForHighlight(I),2),f=m[0],v=m[1],h=null!==(l=_.highlightByNode.get(I))&&void 0!==l?l:_.createHighlight(f);if(f&&v){var g=f.getBoundingClientRect();if((S=_.containerByParent.get(f))&&!v.isPositioned){var y=j(A.getTotalScrollOffset(f),2),p=y[0],b=y[1];S.style.height=f.clientHeight+"px",S.style.width=f.clientWidth+"px",S.style.top=f.offsetTop-p+"px",S.style.left=f.offsetLeft-b+"px",v.isContentClipped&&S.classList.add("kontent-smart-link-overlay--restricted")}var E=v.isPositioned&&v.isContentClipped,w=E?f.scrollTop:0,C=E?f.scrollLeft:0;h.style.top=c.top-g.top+w+"px",h.style.left=c.left-g.left+C+"px"}else h.style.top=c.top+window.pageYOffset+"px",h.style.left=c.left+window.pageXOffset+"px";h.style.width=c.width+"px",h.style.height=c.height+"px",s.set(I,h),_.highlightByNode.delete(I)}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var L=N(_.highlightByNode.entries()),P=L.next();!P.done;P=L.next()){var k=j(P.value,2),I=k[0];(h=k[1]).remove(),_.highlightByNode.delete(I)}}catch(e){r={error:e}}finally{try{P&&!P.done&&(i=L.return)&&i.call(L)}finally{if(r)throw r.error}}try{for(var T=N(_.containerByParent.entries()),M=T.next();!M.done;M=T.next()){var S,x=j(M.value,2),O=x[0];0===(S=x[1]).children.length&&(S.remove(),_.containerByParent.delete(O))}}catch(e){o={error:e}}finally{try{M&&!M.done&&(a=T.return)&&a.call(T)}finally{if(o)throw o.error}}_.highlightByNode=s}},this.clear=function(){var t,e,n,r;try{for(var i=N(_.highlightByNode.entries()),o=i.next();!o.done;o=i.next()){var a=j(o.value,2),l=a[0];a[1].remove(),_.highlightByNode.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var s=N(_.containerByParent.entries()),d=s.next();!d.done;d=s.next()){var u=j(d.value,2),c=u[0];u[1].remove(),_.containerByParent.delete(c)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}_.highlightByNode=new Map,_.containerByParent=new Map,_.defaultContainer.innerHTML=""},this.createHighlight=function(e){var t=document.createElement(n.HighlighterElementTag);return _.createContainerIfNotExist(e).appendChild(t),t},this.createContainerIfNotExist=function(e){if(!e)return _.defaultContainer;if(_.containerByParent.has(e))return _.containerByParent.get(e);var t=document.createElement(n.HighlighterContainerTag);return e.appendChild(t),_.containerByParent.set(e,t),t},this.containerByParent=new Map,this.highlightByNode=new Map,this.defaultContainer=i.createDefaultContainer()}n.HighlightRenderer=r},"./src/lib/IFrameCommunicator.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameCommunicator=t.IFrameMessageType=void 0;var r,i=n("./src/utils/iframe.ts"),o=n("./src/lib/EventManager.ts");(r=t.IFrameMessageType||(t.IFrameMessageType={})).ElementClicked="kontent-smart-link:element:clicked",r.Initialized="kontent-smart-link:initialized",r.Status="kontent-smart-link:status";var a=(l.prototype.destroy=function(){this.events.removeAllListeners(),window.removeEventListener("message",this.onMessage,!0)},l);function l(){var n=this;this.addMessageListener=function(e,t){n.events.on(e,t)},this.removeMessageListener=function(e,t){n.events.off(e,t)},this.sendMessage=function(e,t,n){if(i.isInsideIFrame()){var r={type:e,data:t,metadata:n};window.parent.postMessage(r,"*")}else console.error("Warning: can't send an iframe message, because the application is not hosted in an iframe")},this.onMessage=function(e){if(e.data){var t=e.data;n.events.emit(t.type,t.data)}},this.events=new o.EventManager,window.addEventListener("message",this.onMessage,!0)}t.IFrameCommunicator=a},"./src/lib/NodeSmartLinkProvider.ts":function(e,t,n){"use strict";var T=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSmartLinkProvider=t.NodeSmartLinkProviderEventType=void 0;var o,M=n("./src/utils/dataAttributes.ts"),r=n("./src/lib/EventManager.ts"),S=n("./src/lib/HighlightRenderer.ts"),a=n("./src/utils/assert.ts");(o=t.NodeSmartLinkProviderEventType||(t.NodeSmartLinkProviderEventType={})).ElementClicked="kontent-smart-link:element:clicked";function i(){var I=this;this.enabled=!1,this.renderingTimeoutId=0,this.observedElements=new Set,this.visibleElements=new Set,this.destroy=function(){I.disable(),I.renderer.destroy()},this.addEventListener=function(e,t){I.events.on(e,t)},this.removeEventListener=function(e,t){I.events.off(e,t)},this.enable=function(){I.enabled||(I.startRenderingInterval(),I.listenToGlobalEvents(),I.observeDomMutations(),I.enabled=!0)},this.disable=function(){I.enabled&&(I.stopRenderingInterval(),I.unlistenToGlobalEvents(),I.disconnectObservers(),I.renderer.clear(),I.enabled=!1)},this.highlightVisibleElements=function(){requestAnimationFrame(function(){I.renderer.render(I.visibleElements)})},this.startRenderingInterval=function(){I.highlightVisibleElements(),I.renderingTimeoutId=window.setTimeout(I.startRenderingInterval,1e3)},this.stopRenderingInterval=function(){I.renderingTimeoutId&&(clearTimeout(I.renderingTimeoutId),I.renderingTimeoutId=0)},this.listenToGlobalEvents=function(){window.addEventListener("scroll",I.highlightVisibleElements,{capture:!0}),window.addEventListener("resize",I.highlightVisibleElements,{passive:!0}),window.addEventListener("animationend",I.highlightVisibleElements,{passive:!0,capture:!0}),window.addEventListener("transitionend",I.highlightVisibleElements,{passive:!0,capture:!0}),window.addEventListener("click",I.onElementClick,{capture:!0})},this.unlistenToGlobalEvents=function(){window.removeEventListener("scroll",I.highlightVisibleElements,{capture:!0}),window.removeEventListener("resize",I.highlightVisibleElements),window.removeEventListener("animationend",I.highlightVisibleElements,{capture:!0}),window.removeEventListener("transitionend",I.highlightVisibleElements,{capture:!0}),window.removeEventListener("click",I.onElementClick,{capture:!0})},this.observeDomMutations=function(){I.enabled||(I.mutationObserver.observe(window.document.body,{childList:!0,subtree:!0}),document.querySelectorAll("*["+M.DataAttribute.ElementCodename+"]").forEach(function(e){e instanceof HTMLElement&&I.observeElementVisibility(e)}))},this.disconnectObservers=function(){I.mutationObserver.disconnect(),I.intersectionObserver.disconnect(),I.observedElements.forEach(function(e){I.unobserveElementVisibility(e)}),I.observedElements=new Set,I.visibleElements=new Set},this.observeElementVisibility=function(e){I.observedElements.has(e)||(I.intersectionObserver.observe(e),I.observedElements.add(e),e.addEventListener("mousemove",I.onElementMouseEnter),e.addEventListener("mouseleave",I.onElementMouseLeave))},this.unobserveElementVisibility=function(e){I.observedElements.has(e)&&(I.intersectionObserver.unobserve(e),I.observedElements.delete(e),I.visibleElements.delete(e),e.removeEventListener("mousemove",I.onElementMouseEnter),e.removeEventListener("mouseleave",I.onElementMouseLeave))},this.onDomMutation=function(e){var t,n,r,i,o,a,l,s,d,u,c=M.dataToDatasetAttributeName(M.DataAttribute.ElementCodename),m=e.filter(function(e){var t="childList"===e.type,n=e.target instanceof Element&&![S.HighlighterElementTag,S.HighlighterContainerTag].includes(e.target.tagName);if(!t||!n)return!1;var r=Array.from(e.addedNodes).some(function(e){return e.tagName!==S.HighlighterElementTag}),i=Array.from(e.removedNodes).some(function(e){return e.tagName!==S.HighlighterElementTag});return r||i});try{for(var f=T(m),v=f.next();!v.done;v=f.next()){var h=v.value;try{for(var g=(r=void 0,T(h.addedNodes)),y=g.next();!y.done;y=g.next())if((C=y.value)instanceof HTMLElement){C.dataset[c]&&I.observeElementVisibility(C);try{for(var p=(o=void 0,T(C.querySelectorAll("*["+M.DataAttribute.ElementCodename+"]"))),b=p.next();!b.done;b=p.next())(k=b.value)instanceof HTMLElement&&I.observeElementVisibility(k)}catch(e){o={error:e}}finally{try{b&&!b.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}try{for(var E=(l=void 0,T(h.removedNodes)),w=E.next();!w.done;w=E.next()){var C;if((C=w.value)instanceof HTMLElement){C.dataset[c]&&I.unobserveElementVisibility(C);try{for(var L=(d=void 0,T(C.querySelectorAll("*["+M.DataAttribute.ElementCodename+"]"))),P=L.next();!P.done;P=L.next()){var k;(k=P.value)instanceof HTMLElement&&I.unobserveElementVisibility(k)}}catch(e){d={error:e}}finally{try{P&&!P.done&&(u=L.return)&&u.call(L)}finally{if(d)throw d.error}}}}}catch(e){l={error:e}}finally{try{w&&!w.done&&(s=E.return)&&s.call(E)}finally{if(l)throw l.error}}}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}0<m.length&&I.highlightVisibleElements()},this.onElementVisibilityChange=function(e){var t,n,r=e.filter(function(e){return e.target instanceof HTMLElement});try{for(var i=T(r),o=i.next();!o.done;o=i.next()){var a=o.value,l=a.target;a.isIntersecting?I.visibleElements.add(l):I.visibleElements.delete(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}0<r.length&&I.highlightVisibleElements()},this.onElementClick=function(e){var t=M.getDataAttributesFromEventPath(e);if(t.has(M.DataAttribute.ElementCodename)){e.preventDefault();var n={projectId:t.get(M.DataAttribute.ProjectId),languageCodename:t.get(M.DataAttribute.LanguageCodename),itemId:t.get(M.DataAttribute.ItemId),contentComponentId:t.get(M.DataAttribute.ComponentId),elementCodename:t.get(M.DataAttribute.ElementCodename)},r=M.getHighlightedElementFromEventPath(e);a.assert(r,"Highlighted element is not found in the event path.");var i={elementRect:r.getBoundingClientRect()};I.events.emit(o.ElementClicked,n,i)}},this.onElementMouseEnter=function(e){var t=e.currentTarget;I.renderer.selectNode(t)},this.onElementMouseLeave=function(e){var t=e.currentTarget;I.renderer.deselectNode(t)},this.mutationObserver=new MutationObserver(this.onDomMutation),this.intersectionObserver=new IntersectionObserver(this.onElementVisibilityChange),this.events=new r.EventManager,this.renderer=new S.HighlightRenderer}t.NodeSmartLinkProvider=i},"./src/plugin.ts":function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/utils/iframe.ts"),l=n("./src/utils/link.ts"),s=n("./src/lib/IFrameCommunicator.ts"),r=n("./src/lib/NodeSmartLinkProvider.ts"),d=n("./src/utils/storage.ts"),u=n("./src/utils/validation.ts"),c=n("./src/utils/query.ts"),m={queryTimerId:0},f={languageCodename:null,projectId:null,queryParam:"kontent-smart-link-enabled"},i=function(e){var i=this;this.destroy=function(){var e;i.unwatchQueryParams(),i.nodeSmartLinkProvider.destroy(),null===(e=i.iFrameCommunicator)||void 0===e||e.destroy()},this.updateConfiguration=function(e){i.configuration=o(o({},i.configuration),e)},this.updateState=function(e){i.state=o(o({},i.state),e)},this.initializeIFrameCommunication=function(){if(!a.isInsideIFrame()||i.iFrameCommunicator)throw new Error("Cannot initialize iframe communication while not inside the iframe.");i.iFrameCommunicator=new s.IFrameCommunicator;var t=d.createStorage("kontent-smart-link:iframe-settings"),e=t.get(),n=null===e||(null==e?void 0:e.enabled);n&&i.nodeSmartLinkProvider.enable(),i.iFrameCommunicator.addMessageListener(s.IFrameMessageType.Status,function(e){e&&i.nodeSmartLinkProvider&&(i.toggleNodeSmartLinkProvider(e.enabled),t.set({enabled:e.enabled}))}),i.iFrameCommunicator.sendMessage(s.IFrameMessageType.Initialized,{projectId:i.configuration.projectId,languageCodename:i.configuration.languageCodename,enabled:n})},this.watchQueryParams=function(){if(a.isInsideIFrame())throw new Error("No need to watch query params inside the iframe.");i.state.queryTimerId&&clearTimeout(i.state.queryTimerId);var e=c.isQueryParamPresent(i.configuration.queryParam);i.nodeSmartLinkProvider.enabled!==e&&i.toggleNodeSmartLinkProvider(e),i.updateState({queryTimerId:window.setTimeout(i.watchQueryParams,1e3)})},this.unwatchQueryParams=function(){clearTimeout(i.state.queryTimerId)},this.listenToHighlighterEvents=function(){i.nodeSmartLinkProvider.addEventListener(r.NodeSmartLinkProviderEventType.ElementClicked,i.onElementClick)},this.onElementClick=function(e,t){var n=o(o({},e),{projectId:e.projectId||i.configuration.projectId||void 0,languageCodename:e.languageCodename||i.configuration.languageCodename||void 0});if(u.validateElementClickMessageData(n))if(a.isInsideIFrame()&&i.iFrameCommunicator)i.iFrameCommunicator.sendMessage(s.IFrameMessageType.ElementClicked,n,t);else{var r=l.buildKontentLink(n);window.open(r,"_blank")}},this.toggleNodeSmartLinkProvider=function(e){(void 0!==e?e:!i.nodeSmartLinkProvider.enabled)?i.nodeSmartLinkProvider.enable():i.nodeSmartLinkProvider.disable()},this.nodeSmartLinkProvider=new r.NodeSmartLinkProvider,this.state=m,this.configuration=o(o({},f),e),a.isInsideIFrame()?this.initializeIFrameCommunication():this.watchQueryParams(),this.listenToHighlighterEvents()},v=(h.initializeOnLoad=function(t){return new Promise(function(e){window.addEventListener("load",function(){e(h.initialize(t))})})},h.initialize=function(e){return h.instance||(h.instance=new h),h.instance.plugin||(h.instance.plugin=new i(e)),h.instance},h);function h(){var t=this;this.plugin=null,this.destroy=function(){var e;null===(e=t.plugin)||void 0===e||e.destroy(),t.plugin=null},this.setConfiguration=function(e){if(!t.plugin)throw new Error("KontentSmartLink is not initialized or has already been destroyed.");t.plugin.updateConfiguration(e)}}t.default=v},"./src/utils/assert.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=void 0,t.assert=function(e,t){if(!e){var n=function(e){var t=new Error(e);return t.name="AssertionError",t}(t);throw console.error(n),n}}},"./src/utils/dataAttributes.ts":function(e,r,t){"use strict";var P=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.getHighlightedElementFromEventPath=r.getDataAttributesFromEventPath=r.dataToDatasetAttributeName=r.DataAttribute=void 0,r.DataAttribute={ElementCodename:"data-kontent-element-codename",ComponentId:"data-kontent-component-id",ItemId:"data-kontent-item-id",LanguageCodename:"data-kontent-language-codename",ProjectId:"data-kontent-project-id"};var k=[r.DataAttribute.ProjectId,r.DataAttribute.LanguageCodename,r.DataAttribute.ItemId,r.DataAttribute.ComponentId,r.DataAttribute.ElementCodename],I=k.slice().reverse(),T=[r.DataAttribute.ComponentId];function M(e){return e.replace(/^data-/,"").replace(/-./g,function(e){return e.toUpperCase()[1]})}r.dataToDatasetAttributeName=M,r.getDataAttributesFromEventPath=function(e){var t,n,r,i,o,a,l,s,d=e.composedPath(),u=new Map;try{for(var c=P(d),m=c.next();!m.done;m=c.next()){var f=m.value;if(f instanceof HTMLElement)try{for(var v=(r=void 0,P(I)),h=v.next();!h.done;h=v.next()){var g=h.value,y=M(g),p=f.dataset[y],b=T.includes(g);if(p&&!u.has(g)){var E=(l=g,void 0,s=k.indexOf(l),k.slice(0,s));if(E.some(function(e){return u.has(e)})){if(b)continue;try{for(var w=(o=void 0,P(E)),C=w.next();!C.done;C=w.next()){var L=C.value;u.delete(L)}}catch(e){o={error:e}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}u.set(g,p)}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=v.return)&&i.call(v)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},r.getHighlightedElementFromEventPath=function(e){var t,n=M(r.DataAttribute.ElementCodename);return null!==(t=e.composedPath().find(function(e){return e instanceof HTMLElement&&e.dataset[n]}))&&void 0!==t?t:null}},"./src/utils/iframe.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInsideIFrame=void 0,t.isInsideIFrame=function(){return window.self!==window.top}},"./src/utils/link.ts":function(e,t,n){"use strict";function o(e,t,n){return"https://app.kontent.ai/goto/edit-item/project/"+e+"/variant-codename/"+t+"/item/"+n}function r(e,t,n,r){return o(e,t,n)+"/element/"+r}function i(e,t,n,r,i){return o(e,t,n)+"/component/"+r+"/element/"+i}Object.defineProperty(t,"__esModule",{value:!0}),t.buildKontentLink=t.buildComponentElementLink=t.buildElementLink=void 0,t.buildElementLink=r,t.buildComponentElementLink=i,t.buildKontentLink=function(e){return e.contentComponentId?i(e.projectId,e.languageCodename,e.itemId,e.contentComponentId,e.elementCodename):r(e.projectId,e.languageCodename,e.itemId,e.elementCodename)}},"./src/utils/node.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalScrollOffset=t.getParentForHighlight=void 0,t.getParentForHighlight=function e(t){var n=t.parentNode;if(n instanceof HTMLElement){var r=window.getComputedStyle(n),i={isPositioned:"static"!==r.getPropertyValue("position"),isContentClipped:r.getPropertyValue("overflow").split(" ").some(function(e){return["auto","scroll","clip","hidden"].includes(e)})},o=!["TD","TH","TABLE"].includes(n.tagName);return i.isPositioned||i.isContentClipped&&o?[n,i]:e(n)}return[null,null]},t.getTotalScrollOffset=function(e){if(!e)return[0,0];var t=e.offsetParent;if(!t)return[0,0];for(var n=0,r=0,i=e;i.parentElement&&(i=i.parentElement,!t||!t.isSameNode(i));)n+=i.scrollTop,r+=i.scrollLeft;return[n,r]}},"./src/utils/query.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryParamPresent=void 0,t.isQueryParamPresent=function(e){return new RegExp("[?&]"+e+"([=&]|$)","i").test(window.location.search)}},"./src/utils/storage.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStorage=void 0,t.createStorage=function(n){return{get:function(){var e=window.localStorage.getItem(n);return e?JSON.parse(e):null},set:function(e){var t=JSON.stringify(e);window.localStorage.setItem(n,t)},remove:function(){window.localStorage.removeItem(n)}}}},"./src/utils/validation.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateElementClickMessageData=void 0,t.validateElementClickMessageData=function(e){var t=[];return e.projectId||t.push("Warning: project ID is required to handle element click."),e.languageCodename||t.push("Warning: language codename is required to handle element click."),e.itemId||t.push("Warning: item ID is required to handle element click."),e.elementCodename||t.push("Warning: element codename is required to handle element click."),t.forEach(function(e){console.error(e)}),0===t.length}}},i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/index.ts")).default;function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r});